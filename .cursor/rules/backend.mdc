---
alwaysApply: false
---
## ğŸ§± 2. Backend Rules (NestJS)

### ğŸ“ Folder Structure

```
src/
 â”œâ”€â”€ main.ts
 â”œâ”€â”€ app.module.ts
 â”œâ”€â”€ config/               # DB, CORS, env config
 â”œâ”€â”€ common/               # Decorators, guards, interceptors, utils
 â”œâ”€â”€ modules/              # Má»—i feature lÃ  1 module riÃªng
 â”‚    â”œâ”€â”€ user/
 â”‚    â”‚    â”œâ”€â”€ user.module.ts
 â”‚    â”‚    â”œâ”€â”€ user.controller.ts
 â”‚    â”‚    â”œâ”€â”€ user.service.ts
 â”‚    â”‚    â”œâ”€â”€ user.entity.ts
 â”‚    â”‚    â”œâ”€â”€ dto/
 â”‚    â”‚    â””â”€â”€ interfaces/
 â”œâ”€â”€ filters/              # Exception filters
 â”œâ”€â”€ interceptors/         # Logging, response transform
 â”œâ”€â”€ database/             # ormconfig.ts
 â””â”€â”€ main.ts
```

### ğŸ§© Rule chi tiáº¿t

* Má»—i module gá»“m:

  * `controller.ts`: xá»­ lÃ½ HTTP request, gá»i service.
  * `service.ts`: chá»©a logic nghiá»‡p vá»¥.
  * `entity.ts`: Ã¡nh xáº¡ báº£ng database.
  * `dto/`: Ä‘á»‹nh nghÄ©a request/response (dÃ¹ng `class-validator`).
* Logic nghiá»‡p vá»¥ **chá»‰ náº±m trong service**.
* Controller chá»‰ **nháº­n request â†’ gá»i service â†’ tráº£ response**.
* DÃ¹ng `Repository` pattern cá»§a TypeORM.
* Module chá»‰ import module cáº§n thiáº¿t (trÃ¡nh vÃ²ng láº·p import).
* Config `.env` qua `@nestjs/config`.
* Response format thá»‘ng nháº¥t:

  ```ts
  return { success: true, message: 'User created', data: user };
  ```
* Viáº¿t unit test cÆ¡ báº£n cho service & controller.
